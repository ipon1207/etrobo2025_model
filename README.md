# ETロボコン2025用のUMLリポジトリ

## astahプロジェクトのための完全ガイド（XML差分 + ブランチ運用）📖
このガイドは、astahで作成したモデルを**XML形式でエクスポートし、Gitのブランチ機能**を効果的に使って、チームで安全かつ効率的に開発を進めるための手順書です。

### この管理方法のメリット✨
- 差分がわかる: XMLを併用することで、**「誰が」「いつ」「モデルのどこを」**変更したかがテキストで明確にわかります。

- 安全な共同作業: ブランチを使うことで、他の人の作業に影響を与えることなく、新機能の追加や大規模な修正を並行して進められます。

- レビューしやすい: Pull Request (Merge Request) を通じて変更箇所をレビューできるため、設計の品質をチームで担保できます。

### 始める前に準備するもの 🛠️
- astah: professional, communityなど、お使いのエディション。

- Git: 公式サイトからインストールしてください。

- Gitクライアントツール (推奨): SourceTree や VS Codeの拡張機能など、GUIツールがあるとブランチ操作が視覚的にわかりやすくなります。

- 共有リポジトリ: GitHub や GitLab などで共有リポジトリを作成しておきましょう。

### ブランチを使った開発フロー 🌿
**コンフリクト（競合）を避けるため、`main` (または `master`) ブランチを直接編集することは絶対にやめましょう。** 作業は必ずブランチを切ってから行います。

**ステップ1: 作業ブランチの作成 (checkout)**
`main`ブランチを最新の状態にしてから、自分の作業用のブランチを作成します。ブランチ名は「何のための作業か」がわかるように命名しましょう。

```Bash
# 1. mainブランチに移動
git checkout main

# 2. mainブランチを最新の状態にする
git pull origin main

# 3. 新しい作業ブランチを作成して、そのブランチに移動する
git checkout -b usecase/scenario_trecer
```
ブランチ名の例

- 新しい図の追加: 
    
    `usecase/scenario_tracer`
    
    `activity/line_tracer`

**ステップ2: astahでの編集とXMLエクスポート**

1. 作成したブランチ上で、いつも通り `.asta` ファイルを編集します。

2. 編集が終わったら、**必ずXMLファイルにエクスポートします**。

    - astahのメニューから **[ツール] > [XML入出力] > [XMLプロジェクトファイル出力]** を選択します。

    - .asta ファイルと同じ名前で、同じフォルダに保存してください。

**ステップ3: 変更をコミット＆プッシュ**
編集した `.asta` ファイルと、エクスポートした `.xml` ファイルの両方を、**作業ブランチ**にコミット＆プッシュします。

**ステップ4: Pull Request (Merge Request) の作成とレビュー**
GitHubやGitLab上で、「**`usecase/scenario_tracer` ブランチから `main` ブランチへ**」というPull Request (PR) を作成します。

**PRの目的**:

- 変更内容をチームメンバーに通知する。

- XMLの差分を見ながら、設計が妥当かレビューしてもらう。

- コンフリクトがないか自動でチェックする。

チームメンバーからレビューでOK（Approve）がもらえたら、PRをマージして変更を `main` ブランチに取り込みます。

**ステップ5: 不要になったブランチの削除**

マージが完了したら、作業ブランチは不要になるので削除します。

```Bash
# ローカルのブランチを削除
git branch -d feature/add-login-sequence

# リモートのブランチを削除
git push origin --delete feature/add-login-sequence
```

### ⚠️ チームで守るべき最重要ルール ⚠️
1. **`main` ブランチは直接触らない！**

    - 作業は必ずブランチを切ってから行い、Pull Request経由でマージしましょう。

2. **XMLエクスポートを絶対に忘れない！**

    - `.asta` ファイルを更新したら、必ずセットでXMLもエクスポートしてください。

3. **XMLファイルは絶対に手で編集しない！**

    - XMLは差分確認用です。編集は必ずastahから行いましょう。

4. **作業前に必ず pull する！**

    - ブランチを切る前や、長期間作業する際は、定期的に `main` ブランチの最新の変更を取り込みましょう (`git merge main`)。